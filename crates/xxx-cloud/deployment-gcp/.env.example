# xxx Cloud Deployment - Environment Configuration
# Copy this file to .env and fill in your values

# ===== REQUIRED: GCP Configuration =====
GCP_PROJECT_ID=your-project-id-here
GCP_REGION=us-central1
GCP_ZONE=us-central1-c

# ===== CRITICAL: Security Configuration =====
# These settings control network access to your deployment
# NEVER use 0.0.0.0/0 in production!

# SSH Access: Your IP address for SSH access (CIDR notation)
# Example: ALLOWED_SSH_CIDR=101.0.1.42/32
# To allow multiple IPs: ALLOWED_SSH_CIDR=203.0.113.42/32,198.51.100.10/32
# WARNING: Leave blank to disable SSH access (recommended until needed)
ALLOWED_SSH_CIDR=

# API Access: Allowed IP ranges for REPL API access (CIDR notation)
# Example: ALLOWED_API_CIDR=203.0.113.0/24
# WARNING: If not set, API will be publicly accessible - CRITICAL SECURITY RISK!
ALLOWED_API_CIDR=

# etcd Root Password: Used for internal service registry authentication
# Generate a strong password: openssl rand -base64 32
ETCD_ROOT_PASSWORD=changeme

# ===== OPTIONAL: Instance Configuration =====
INSTANCE_NAME=xxx-repl-instance
MACHINE_TYPE=c4a-standard-2
NETWORK_NAME=xxx-network

# Boot image (Fedora CoreOS ARM64)
BOOT_IMAGE=fedora-coreos-cloud/fedora-coreos-next-arm64

# ===== OPTIONAL: Service Ports =====
REPL_API_PORT=3002
# CONTAINER_API_PORT=3001
# SERVICE_REGISTRY_PORT=3003
# REGISTRY_PORT=5001

# ===== SECURITY NOTES =====
# 1. ALWAYS restrict ALLOWED_SSH_CIDR and ALLOWED_API_CIDR to specific IPs
# 2. Change ETCD_ROOT_PASSWORD from default value
# 3. Keep this .env file secure and never commit it to version control
# 4. Review SECURITY_REVIEW.md for comprehensive security guidance
# 5. Consider using Cloud IAP for SSH instead of direct SSH access

# ===== QUICK START =====
# 1. Copy this file: cp .env.example .env
# 2. Set your GCP_PROJECT_ID
# 3. Set ALLOWED_SSH_CIDR to your IP (find it: curl ifconfig.me)
# 4. Set ALLOWED_API_CIDR to restrict API access
# 5. Change ETCD_ROOT_PASSWORD to a secure value
# 6. Run: cdktf deploy
